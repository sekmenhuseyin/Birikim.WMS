@model IEnumerable<Transfer>
<table class="table table-striped table-bordered table-condensed" id="sample_2">
    <thead><tr><th></th><th>Şirket</th><th>Giriş Depo</th><th>Ara Depo</th><th>Çıkış Depo</th><th>Oluşturan</th><th>Onaylayan</th><th></th></tr></thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr data-ID="@item.ID">
                <td style="width:20px!important;" class="details-control"></td>
                <td>@item.SirketKod</td>
                <td>@item.Depo.DepoAd</td>
                <td>@item.Depo2.DepoAd</td>
                <td>@item.Depo1.DepoAd</td>
                <td>@item.Gorev.Olusturan</td>
                <td>@item.Onaylayan</td>
                <td>
                    @if (item.Onay == false)
                    {
                        using (Html.BeginForm("Approve", "Transfer", new { area = "WMS" }, FormMethod.Post, new { @class = "form-horizontal pull-left" }))
                        {
                            @Html.AntiForgeryToken()
                            <input type="hidden" name="ID" value="@item.ID" />
                            <input type="submit" value="Onay" class="btn btn-default input-circle" />
                        }

                    }
                    <a class="btn btn-danger input-circle" href="javascript:;" onclick="Delete('@item.GorevID','','','')"> Sil </a>
                </td>
            </tr>
        }
    </tbody>
</table>
<script>
    $(document).ready(function () {
        var table = $('#sample_2').DataTable({
            "pagingType": "full_numbers", 
            "language": { "url": "http://cdn.datatables.net/plug-ins/1.10.13/i18n/Turkish.json" },
            "dom": 'lBfrtip',
            "buttons": [
                { "extend": 'pdf', "text": '<span class="fa fa-file-pdf-o f-s-15 red"></span>', "className": 'btn btn-default btn-xs' },
                { "extend": 'excel', "text": '<span class="fa fa-file-excel-o f-s-15 green"></span>', "className": 'btn btn-default btn-xs' }
            ]
        });
        $('#sample_2 tbody').on('click', 'td.details-control', function () {
            var tr = $(this).closest('tr');
            var row = table.row(tr);
            if (row.child.isShown()) { row.child.hide(); tr.removeClass('shown'); }
            else { row.child(newrow(tr.data('id'))).show(); format(tr.data('id')); tr.addClass('shown'); }
        });
    });
</script>