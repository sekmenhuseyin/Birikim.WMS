"use strict";$(function(){var n=$.connection.zigChatHub;n.client.updateChat=function(n,t,i,r,u){var c=function(n,t,i,r,u){var f="";return f+='<div class="post '+n+'">',f+='<img class="avatar" alt="'+i+'" src="/Content/Uploads/'+r+'.jpg"/>',f+='<div class="message">',f+='<span class="arrow"><\/span>',f+='<a href="javascript:;" class="name">'+i+"<\/a>&nbsp;",f+='<span class="datetime">'+t+"<\/span>",f+='<span class="body">',f+=u,f+="<\/span>",f+="<\/div>",f+"<\/div>"};if(t===SendMessageTo){var l=$(".page-quick-sidebar-wrapper"),e=l.find(".page-quick-sidebar-chat"),o=e.find(".page-quick-sidebar-chat-user-messages"),s=e.find(".page-quick-sidebar-chat-user-form .form-control"),h=new Date,f=c(currentUserName!=n?"in":"out",h.getHours()+":"+h.getMinutes(),r,u,i);f=$(f);o.append(f);o.slimScroll({scrollTo:"1000000px"});s.val("");s.focus()}else CT("info",r,i)};n.client.updateUsersOnline=function(n){var t,i;if(!n.Success){alert(n.ErrorMessage);return}t=$("#users");t.html(null);for(i of n.UsersOnline)i===currentUserName?t.append($('<p class="user-current">'+i+"<\/p>")):t.append('<p class="user">'+i+"<\/p>")};$.connection.hub.start({transport:"longPolling"}).done(function(){var t=n.server.connectUser(currentUserName).done(function(t){if(!t.Success){alert(t.ErrorMessage);return}var e=function(n,t,i,r,u){var f="";return f+='<div class="post '+n+'">',f+='<img class="avatar" alt="'+i+'" src="/Content/Uploads/'+r+'.jpg"/>',f+='<div class="message">',f+='<span class="arrow"><\/span>',f+='<a href="javascript:;" class="name">'+i+"<\/a>&nbsp;",f+='<span class="datetime">'+t+"<\/span>",f+='<span class="body">',f+=u,f+="<\/span>",f+="<\/div>",f+"<\/div>"},o=$(".page-quick-sidebar-wrapper"),i=o.find(".page-quick-sidebar-chat"),u=i.find(".page-quick-sidebar-chat-user-messages"),r=i.find(".page-quick-sidebar-chat-user-form .form-control"),f=function(t){var i,o,f;(t.preventDefault(),i=r.val(),i.length!==0)&&(o=new Date,f=e("out",o.getHours()+":"+o.getMinutes(),currentUserName,currentUserImage,i),f=$(f),u.append(f),u.slimScroll({scrollTo:"1000000px"}),r.val(""),r.focus(),n.server.sendMessage(currentUserName,SendMessageTo,i))};i.find(".page-quick-sidebar-chat-user-form .btn").click(f);i.find(".page-quick-sidebar-chat-user-form .form-control").keypress(function(n){if(n.which===13)return f(n),!1})})})});