"use strict";$(function(){var n=$.connection.zigChatHub,t=currentUserImage;n.client.updateChat=function(n,t,i,r,u){var c=function(n,t,i,r,u){var f="";return f+='<div class="post '+n+'">',f+='<img class="avatar" alt="'+i+'" src="/Content/Uploads/'+r+'.jpg"/>',f+='<div class="message">',f+='<span class="arrow"><\/span>',f+='<a href="javascript:;" class="name">'+i+"<\/a>&nbsp;",f+='<span class="datetime">'+t+"<\/span>",f+='<span class="body">',f+=u,f+="<\/span>",f+="<\/div>",f+"<\/div>"};if(n!==currentUserName)if(n===SendMessageTo){var l=$(".page-quick-sidebar-wrapper"),e=l.find(".page-quick-sidebar-chat"),o=e.find(".page-quick-sidebar-chat-user-messages"),s=e.find(".page-quick-sidebar-chat-user-form .form-control"),h=new Date,f=c(currentUserName!==n?"in":"out",h.getHours()+":"+h.getMinutes(),r,u,i);f=$(f);o.append(f);o.slimScroll({scrollTo:"1000000px"});s.val("");s.focus()}else CT("info",i,r)};n.client.receiveNotification=function(n,t){n!==""&&n!==null&&CT("info",t,n);PartialView("/Home/Notifications","header_notification_bar","")};n.client.updateUsersOnline=function(n){if(!n.Success){alert(n.ErrorMessage);return}$(".badge").removeClass("badge-success");$(".badge").removeClass("badge-danger");$(".badge").addClass("badge-danger");for(var t of n.UsersOnline)$(".badge-"+t).removeClass("badge-danger"),$(".badge-"+t).addClass("badge-success")};$.connection.hub.start().done(function(){var i=n.server.connectUser(currentUserName).done(function(i){if(!i.Success){alert(i.ErrorMessage);return}$("#btnLogout").click(function(){n.connection.stop();window.location.href="/Security/LogOut"});n.server.sendNotifications();$("#send-realtime-notifications").click(function(){n.server.sendNotifications()});var o=function(n,t,i,r,u){var f="";return f+='<div class="post '+n+'">',f+='<img class="avatar" alt="'+i+'" src="/Content/Uploads/'+r+'.jpg"/>',f+='<div class="message">',f+='<span class="arrow"><\/span>',f+='<a href="javascript:;" class="name">'+i+"<\/a>&nbsp;",f+='<span class="datetime">'+t+"<\/span>",f+='<span class="body">',f+=u,f+="<\/span>",f+="<\/div>",f+"<\/div>"},s=$(".page-quick-sidebar-wrapper"),r=s.find(".page-quick-sidebar-chat"),f=r.find(".page-quick-sidebar-chat-user-messages"),u=r.find(".page-quick-sidebar-chat-user-form .form-control"),e=function(i){var r,s,e;if(i.preventDefault(),r=u.val(),r.length===0){alert("bo≈ü");return}s=new Date;e=o("out",s.getHours()+":"+s.getMinutes(),currentRealName,t,r);e=$(e);f.append(e);f.slimScroll({scrollTo:"1000000px"});u.val("");u.focus();n.server.sendMessage(currentUserName,SendMessageTo,r)};r.find(".page-quick-sidebar-chat-user-form .btn").click(e);r.find(".page-quick-sidebar-chat-user-form .form-control").keypress(function(n){if(n.which===13)return e(n),!1})})})});