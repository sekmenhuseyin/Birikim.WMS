"use strict";$(function(){var n=$.connection.zigChatHub;n.client.updateChat=function(n,t,i,r,u){var c=function(n,t,i,r,u){var f="";return f+='<div class="post '+n+'">',f+='<img class="avatar" alt="'+i+'" src="/Content/Uploads/'+r+'.jpg"/>',f+='<div class="message">',f+='<span class="arrow"><\/span>',f+='<a href="javascript:;" class="name">'+i+"<\/a>&nbsp;",f+='<span class="datetime">'+t+"<\/span>",f+='<span class="body">',f+=u,f+="<\/span>",f+="<\/div>",f+"<\/div>"};if(t===SendMessageTo){var l=$(".page-quick-sidebar-wrapper"),e=l.find(".page-quick-sidebar-chat"),o=e.find(".page-quick-sidebar-chat-user-messages"),s=e.find(".page-quick-sidebar-chat-user-form .form-control"),h=new Date,f=c(currentUserName!==n?"in":"out",h.getHours()+":"+h.getMinutes(),r,u,i);f=$(f);o.append(f);o.slimScroll({scrollTo:"1000000px"});s.val("");s.focus()}else CT("info",i,r)};n.client.receiveNotification=function(n,t){n!==""&&n!==null&&CT("info",t,n)};n.client.updateUsersOnline=function(n){var t,i;if(!n.Success){alert(n.ErrorMessage);return}t=$("#users");t.html(null);for(i of n.UsersOnline)i===currentUserName?t.append($('<p class="user-current">'+i+"<\/p>")):t.append('<p class="user">'+i+"<\/p>")};$.connection.hub.start().done(function(){var t=n.server.connectUser(currentUserName).done(function(t){if(!t.Success){alert(t.ErrorMessage);return}$("#btnLogout").click(function(){n.connection.stop();window.location.href="/Security/LogOut"});n.server.sendNotifications();$("#send-realtime-notifications").click(function(){n.server.sendNotifications()});var e=function(n,t,i,r,u){var f="";return f+='<div class="post '+n+'">',f+='<img class="avatar" alt="'+i+'" src="/Content/Uploads/'+r+'.jpg"/>',f+='<div class="message">',f+='<span class="arrow"><\/span>',f+='<a href="javascript:;" class="name">'+i+"<\/a>&nbsp;",f+='<span class="datetime">'+t+"<\/span>",f+='<span class="body">',f+=u,f+="<\/span>",f+="<\/div>",f+"<\/div>"},f=$(".page-quick-sidebar-wrapper"),i=f.find(".page-quick-sidebar-chat"),o=i.find(".page-quick-sidebar-chat-user-messages"),r=i.find(".page-quick-sidebar-chat-user-form .form-control"),u=function(t){t.preventDefault();var i=r.val();if(i.length===0){alert("bo≈ü");return}r.val("");r.focus();n.server.sendMessage(currentUserName,SendMessageTo,i)};i.find(".page-quick-sidebar-chat-user-form .btn").click(u);i.find(".page-quick-sidebar-chat-user-form .form-control").keypress(function(n){if(n.which===13)return u(n),!1})})})});