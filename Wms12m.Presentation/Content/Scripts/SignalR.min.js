"use strict";$(function(){var n=$.connection.zigChatHub;n.client.updateChat=function(n,t){var r=currentUserName===n?"left":"right",i=$('<div class="panel panel-primary" style="margin-'+r+': 7em; background-color: #337ab7;"><div style="padding: .5em; color: white; border-bottom: .1em solid white; font-size: 11px;">'+n+" "+moment().fromNow()+'<\/div><div style="padding: .5em; color: white; text-align: right;">'+t+"<\/div><\/div>");$("#chat").append(i);i[0].scrollIntoView(!0)};n.client.updateUsersOnline=function(n){var t,i,r;if(!n.Success){alert(n.ErrorMessage);return}t=$("#users");t.html(null);for(i of n.UsersOnline)i===currentUserName?t.append($('<p class="user-current">'+i+"<\/p>")):(r=$('<p class="user">'+i+"<\/p>"),r.click(function(){var n=$("#message");n.val("@"+$(this).text()+" ");n.focus()}),t.append(r))};$.connection.hub.start({transport:"longPolling"}).done(function(){var t=n.server.connectUser(currentUserName).done(function(t){if(!t.Success){alert(t.ErrorMessage);return}var i=$("#message"),r=function(){(i.focus(),i.val()!=="")&&(n.server.sendMessage(currentUserName,i.val()),i.val(""))};i.keyup(function(n){n.which===13&&r()});$("#send").click(r);i.focus()})})});