@model GetHomeSummary_Result
@{
    ViewBag.Title = "";
    Layout = "~/Views/Shared/_Layout.cshtml";
    List<Etkinlik> tblEtki = ViewBag.Tatil;
    BekleyenOnaylar tbl = ViewBag.BekleyenOnaylar;
    Setting tst = ViewBag.Settings;
    List<ChartGunlukSatisAnalizi> tmpChartGunlukSatis = new List<ChartGunlukSatisAnalizi>();
    List<ChartBaglantiZaman> tmpChartGunlukZaman = new List<ChartBaglantiZaman>();
    List<DB_GunlukSatisAnaliziYearToDay> tmpChartYear2Day = new List<DB_GunlukSatisAnaliziYearToDay>();
    List<ChartGunlukSatisAnalizi> tmpChartGunlukSatisKriter = new List<ChartGunlukSatisAnalizi>();
    List<DB_Aylik_SatisAnalizi> tmpChartAylikSatis = new List<DB_Aylik_SatisAnalizi>();
    List<DB_Aylik_SatisAnalizi_Tip_Kod_Doviz> tmpChartAylikSatisKodTipDoviz = new List<DB_Aylik_SatisAnalizi_Tip_Kod_Doviz>();
    List<DB_UrunGrubu_SatisAnalizi> tmpChartUrunGrubuSatis = new List<DB_UrunGrubu_SatisAnalizi>();
    List<DB_UrunGrubu_SatisAnalizi_Kriter> tmpChartUrunGrubuSatisKriter = new List<DB_UrunGrubu_SatisAnalizi_Kriter>();
    List<DB_LokasyonBazli_SatisAnalizi> tmpChartLokasyonSatis = new List<DB_LokasyonBazli_SatisAnalizi>();
    List<DB_LokasyonBazli_SatisAnalizi_Kriter> tmpChartLokasyonSatisKriter = new List<DB_LokasyonBazli_SatisAnalizi_Kriter>();
    List<DB_BakiyeRiskAnalizi> tmpChartBakiyeRisk = new List<DB_BakiyeRiskAnalizi>();
    List<DB_SatisBaglanti_UrunGrubu> tmpChartBaglantiUrunGrubu = new List<DB_SatisBaglanti_UrunGrubu>();
    if (Model.yetki.Contains("'ChartGunlukSatis'") == true)
    {
        tmpChartGunlukSatis = ViewBag.ChartGunlukSatis;
        tmpChartGunlukZaman = ViewBag.ChartGunlukZaman;
        tmpChartYear2Day = ViewBag.ChartYear2Day;
        tmpChartGunlukSatisKriter = ViewBag.ChartGunlukSatisKriter;
    }
    if (Model.yetki.Contains("'ChartAylikSatisAnaliziBar'") == true)
    {
        tmpChartAylikSatis = ViewBag.ChartAylikSatis;
        tmpChartAylikSatisKodTipDoviz = ViewBag.ChartAylikSatisKodTipDoviz;
    }
    if (Model.yetki.Contains("'ChartUrunGrubuSatis'") == true)
    {
        tmpChartUrunGrubuSatis = ViewBag.ChartUrunGrubuSatis;
        tmpChartUrunGrubuSatisKriter = ViewBag.ChartUrunGrubuSatisKriter;
    }
    if (Model.yetki.Contains("'ChartLokasyonSatis'") == true)
    {
        tmpChartLokasyonSatis = ViewBag.ChartLokasyonSatis;
        tmpChartLokasyonSatisKriter = ViewBag.ChartLokasyonSatisKriter;
    }
    if (Model.yetki.Contains("'ChartBakiyeRiskAnalizi'") == true)
    {
        tmpChartBakiyeRisk = ViewBag.ChartBakiyeRisk;
    }
    if (Model.yetki.Contains("'ChartBaglantiUrunGrubu'") == true)
    {
        tmpChartBaglantiUrunGrubu = ViewBag.ChartBaglantiUrunGrubu;
    }
}@section Styles{<link href="~/Content/assets/global/plugins/bootstrap-toggle/css/bootstrap-toggle.min.css" rel="stylesheet" type="text/css" />
    <script>var dateVal = new Date(); dateVal.setHours(0, 0, 0); var oaDate = Math.ceil((dateVal - new Date(Date.UTC(1899, 11, 30))) / (24 * 60 * 60 * 1000));</script>
}<div class="page-bar"><ul class="page-breadcrumb"><li><span>Anasayfa</span></li></ul></div>
<h1 class="page-title">Yönetim Paneli</h1>@foreach (var item in tblEtki)
{<div class="m-heading-1 border-green m-bordered"><h3>@item.ComboItem_Name.Name</h3><p>@item.Aciklama</p></div>}
@{Html.RenderPartial("Box", Model);}
@if (Model.yetki.Contains("'ChartGunlukSatis'") == true)
{
    <div id="gunluk_satis">@{Html.RenderPartial("Satis/GunlukSatis", tmpChartGunlukSatis);}</div>
    <div id="gunluk_satis_pie">@{Html.RenderPartial("Satis/GunlukSatisPie", tmpChartGunlukSatis);}</div>
    <div id="gunluk_satis_zaman_cizelgesi">@{Html.RenderPartial("Satis/GunlukSatisZamanCizelgesi", tmpChartGunlukZaman);}</div>
    <div id="gunluk_satis_yeartoday">@{Html.RenderPartial("Satis/GunlukSatısAnaliziYearToDay", tmpChartYear2Day);}</div>
    <div id="gunluk_satis_yeartoday_pie">@{Html.RenderPartial("Satis/GunlukSatısAnaliziYearToDayPie", tmpChartYear2Day);}</div>
    <div id="gunluk_satis_double_kriter">@{Html.RenderPartial("Satis/GunlukSatisAnaliziDoubleKriter", tmpChartGunlukSatisKriter);}</div>
    <div id="gunluk_satis_double_kriter_pie">@{Html.RenderPartial("Satis/GunlukSatisAnaliziDoubleKriterPie", tmpChartGunlukSatisKriter);}</div>
}@if (Model.yetki.Contains("'ChartAylikSatisAnaliziBar'") == true)
{
    <div id="aylik_satis_bar">@{Html.RenderPartial("Satis/AylikSatisAnaliziBar", tmpChartAylikSatis);}</div>
    <div id="aylik_satis_chk_bar">@{Html.RenderPartial("Satis/AylikSatisCHKAnaliziBar", new List<ChartAylikSatisAnalizi>());}</div>
    <div id="aylik_satis_kod_tip_doviz_bar">@{Html.RenderPartial("Satis/AylikSatisAnaliziKodTipDovizBar", tmpChartAylikSatisKodTipDoviz);}</div>
}@if (Model.yetki.Contains("'ChartUrunGrubuSatis'") == true)
{
    <div id="urun_grubu_satis">@{Html.RenderPartial("Satis/UrunGrubuSatis", tmpChartUrunGrubuSatis);}</div>
    <div id="urun_grubu_satis_kriter">@{Html.RenderPartial("Satis/UrunGrubuSatisKriter", tmpChartUrunGrubuSatisKriter);}</div>
}@if (Model.yetki.Contains("'ChartLokasyonSatis'") == true)
{
    <div id="lokasyon_satis">@{Html.RenderPartial("Satis/LokasyonSatis", tmpChartLokasyonSatis);}</div>
    <div id="lokasyon_satis_kriter">@{Html.RenderPartial("Satis/LokasyonSatisKriter", tmpChartLokasyonSatisKriter);}</div>
}@if (Model.yetki.Contains("'ChartBakiyeRiskAnalizi'") == true)
{
    <div id="bakiye_risk">@{Html.RenderPartial("Satis/BakiyeRiskAnalizi", tmpChartBakiyeRisk);}</div>
}@if (Model.yetki.Contains("'ChartBakiyeRiskAnalizi'") == true)
{
    <div id="satis_temsilcisi_aylik_satis_analizi">@{Html.RenderPartial("Satis/SatisTemsilcisi_AylikSatisAnalizi", new List<ChartSatisTemsilcisiAylikSatisAnalizi>());}</div>
}@if (Model.yetki.Contains("'ChartBaglantiUrunGrubu'") == true)
{
    <div id="baglanti_urun_grubu">@{Html.RenderPartial("Satis/BaglantiUrunGrubu", tmpChartBaglantiUrunGrubu);}</div>
    <div id="baglanti_urun_grubu_pie">@{Html.RenderPartial("Satis/BaglantiUrunGrubuPie", tmpChartBaglantiUrunGrubu);}</div>
}@if (Model.yetki.Contains("'ChartGunlukMDFUretimi'") == true)
{
    <div id="gunluk_mdf_uretim">@{Html.RenderPartial("Satis/GunlukMDFUretim", new List<ChartGunlukMDFUretimi>());}</div>
    <div id="gunluk_mdf_uretim_pie">@{Html.RenderPartial("Satis/GunlukMDFUretimPie", new List<ChartGunlukMDFUretimi>());}</div>
}@if (Model.yetki.Contains("'ChartBaglantiZamanCizelgesi'") == true)
{
    <div id="baglanti_zaman_cizelgesi">@{Html.RenderPartial("Satis/BaglantiZamanCizelgesi", new List<ChartBaglantiZaman>());}</div>
}@if (Model.yetki.Contains("'ChartBolgeBazliSatisAnalizi'") == true)
{
    <div id="bolge_bazli_satis_analizi">@{Html.RenderPartial("Satis/BolgeBazliSatisAnalizi", new List<ChartBolgeBazliSatisAnalizi>());}</div>
    <div id="bolge_bazli_satis_analizi_pie">@{Html.RenderPartial("Satis/BolgeBazliSatisAnaliziPie", new List<ChartBolgeBazliSatisAnalizi>());}</div>
}@if (Model.yetki.Contains("'ChartBekleyenSiparisUrunGrubu'") == true)
{
    @*<div id="bekleyen_siparis_urun_grubu">@{Html.RenderPartial("Satis/BekleyenSiparisUrunGrubu", new List<ChartBekleyenSiparisUrunGrubu>());}</div>
    <div id="bekleyen_siparis_urun_grubu_miktar">@{Html.RenderPartial("Satis/BekleyenSiparisUrunGrubuMiktar", new List<ChartBekleyenSiparisUrunGrubu>());}</div>
    <div id="bekleyen_siparis_urun_grubu_miktar_pie">@{Html.RenderPartial("Satis/BekleyenSiparisUrunGrubuMiktarPie", new List<ChartBekleyenSiparisUrunGrubu>());}</div>
    <div id="bekleyen_siparis_urun_grubu_miktar_kriter">@{Html.RenderPartial("Satis/BekleyenSiparisUrunGrubuMiktarKriter", new List<ChartBekleyenSiparisUrunGrubu>());}</div>
    <div id="bekleyen_siparis_urun_grubu_miktar_kriter_pie">@{Html.RenderPartial("Satis/BekleyenSiparisUrunGrubuMiktarKriterPie", new List<ChartBekleyenSiparisUrunGrubu>());}</div>
    <div id="bekleyen_siparis_musteri_analizi">@{Html.RenderPartial("Satis/BekleyenSiparisMusteriAnalizi", new List<ChartBekleyenSiparisUrunGrubu>());}</div>*@
}@if (tst.GorevProjesi == true)
{
    if (Model.yetki.Contains("'ChartGörevProjesi'") == true)
    {
        <div id="gorev_gunluk_calisma"></div>
        <div id="gorev_gunluk_calisma_pie"></div>
        <div id="gorev_musteri_analizi"></div>
        <div id="gorev_musteri_analizi_pie"></div>
        <div id="gorev_proje_analizi"></div>
        <div id="gorev_aylik_calisma"></div>
        <div id="gorev_calisma_analizi"></div>
        <div id="gorev_git"></div>
    }
    else
    {
        <div id="gorev_karma"></div>
    }
}@section Scripts{<script src="~/Content/assets/global/plugins/waypoints/lib/jquery.waypoints.min.js"></script>
<script src="~/Content/assets/global/plugins/counterup/jquery.counterup.min.js"></script>
<script src="~/Content/assets/global/plugins/amcharts/amcharts/amcharts.js"></script>
<script src="~/Content/assets/global/plugins/amcharts/amcharts/pie.js"></script>
<script src="~/Content/assets/global/plugins/amcharts/amcharts/serial.js"></script>
<script src="~/Content/assets/global/plugins/amcharts/amcharts/themes/light.js"></script>
<script src="~/Content/assets/global/plugins/amcharts/amstockcharts/amstock.js"></script>
<script src="~/Content/assets/global/plugins/echarts/echarts.js"></script>
<script src="~/Content/assets/global/plugins/bootstrap-toggle/js/bootstrap-toggle.min.js"></script>
<script>
    $(document).ready(function (e) {@{
    if (tst.GorevProjesi == true){
        if (Model.yetki.Contains("'ChartGörevProjesi'") == true) {<text>
            PartialView('/Home/GorevGunlukCalisma', 'gorev_gunluk_calisma', JSON.stringify({ user: '', tarih: oaDate - @if (DateTime.Today.DayOfWeek == DayOfWeek.Monday) { @("3") }else if (DateTime.Today.DayOfWeek == DayOfWeek.Sunday) { @("2") } else { @("1") }, tip: '' }));
            PartialView('/Home/GorevGunlukCalisma', 'gorev_gunluk_calisma_pie', JSON.stringify({ user: '', tarih: oaDate - @if (DateTime.Today.DayOfWeek == DayOfWeek.Monday) { @("3") }else if (DateTime.Today.DayOfWeek == DayOfWeek.Sunday) { @("2") } else { @("1") }, tip: 'Pie' }));
            PartialView('/Home/GorevMusteriAnalizi', 'gorev_musteri_analizi', JSON.stringify({ musteri: 0, proje: 0, tarihStart: oaDate - 7, tarihEnd: oaDate, tip: '' }));
            PartialView('/Home/GorevMusteriAnalizi', 'gorev_musteri_analizi_pie', JSON.stringify({ musteri: 0, proje: 0, tarihStart: oaDate - 7, tarihEnd: oaDate, tip: 'Pie' }));
            PartialView('/Home/GorevProjeAnalizi', 'gorev_proje_analizi', JSON.stringify({ musteri: 0, proje: 0}));
            PartialView('/Home/GorevAylikCalisma', 'gorev_aylik_calisma', JSON.stringify({ user: '', tarih: dateVal.getMonth() + 1, tip: '' }));
            PartialView('/Home/GorevCalismaListesi', 'gorev_calisma_analizi', JSON.stringify({ tarihStart: oaDate - 7, tarihEnd: oaDate }));
            PartialView('/Home/GorevGit', 'gorev_git', JSON.stringify({ tarih: oaDate - @if (DateTime.Today.DayOfWeek == DayOfWeek.Monday) { @("3") }else if (DateTime.Today.DayOfWeek == DayOfWeek.Sunday) { @("2") } else { @("1") } }));
        </text> }
        else {<text>

        </text>}
    }
}});</script>}